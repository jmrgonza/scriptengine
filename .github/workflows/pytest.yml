name: PyTest
on: push

jobs:
    test:
        runs-on: ubuntu-latest
        strategy:
            matrix:
                python-version: [ '3.6', '3.7', '3.8', '3.9' ]

        steps:

            - name: Checkout
              uses: actions/checkout@v2

            - name: Setup Python
              uses: actions/setup-python@v2
              with:
                python-version: ${{matrix.python-version}}

            - name: Install Dependencies and ScriptEngine
              run: |
                python -m pip install --upgrade pip
                python -m pip install --editable .
                python -m pip install pytest

            - name: Run PyTest
              run: python -m pytest --import-mode=append tests/
